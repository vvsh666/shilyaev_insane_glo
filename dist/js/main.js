(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function r(n){let i=(n-o)/l;i>1&&(i=1);let s=e(i);t(s),i<1&&requestAnimationFrame(r)}))},t=e=>{if(e)document.body.style="";else{const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=e+"px",document.body.style.overflow="hidden"}},l=l=>{const o=document.getElementById(l),r=document.querySelector(".popup-thank"),n=r.querySelector(".close-thank"),i=o.querySelector(".checkbox__label"),s=o.querySelector(".checkbox__input"),c=o.querySelectorAll("label>span"),a=o.querySelectorAll("input[type=text]"),d=o.querySelector(".loader");try{if(!o)throw new Error("Верните на место форму, пожалуйста!");o.addEventListener("submit",(l=>{l.preventDefault(),(()=>{const l=o.querySelectorAll("input"),n=new FormData(o),s={};var a;n.forEach(((e,t)=>{s[t]=e})),(e=>{let t=!0;return e.forEach((e=>{"name"===e.name&&o.classList.contains("feedback-block__form")&&e.value.length<2&&(c[0].style.color="red",t=!1),"phone"===e.name&&(/\+7 \([0-9]{3}\) [0-9]{3}\-[0-9]{2}\-[0-9]{2}/.test(e.value)||(t=!1,o.classList.contains("feedback-block__form")&&(c[1].style.color="red"))),"checkbox"===e.type&&(e.checked||(i.style.border="1px solid red",t=!1))})),t})(l)&&(d.style.display="block",(a=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((l=>{o.reset(),d.style="",t(!1),r.style.opacity=0,r.style.visibility="visible",e({duration:500,timing:e=>e,draw(e){r.style.opacity=e}})})).catch((e=>{console.log(e.message)})))})()}))}catch(e){console.log(e.message)}n.addEventListener("click",(()=>{t(!0),r.style.opacity="",r.style.visibility=""})),s.addEventListener("click",(()=>{i.style=""})),o.classList.contains("feedback-block__form")&&a.forEach((e=>{e.addEventListener("input",(e=>{e.target.classList.contains("feedback-block__form-input_name")&&e.target.value.length>=2&&(c[0].style=""),e.target.classList.contains("feedback-block__form-input_phone")&&/\+7 \([0-9]{3}\) [0-9]{3}\-[0-9]{2}\-[0-9]{2}/.test(e.target.value)&&(c[1].style="")}))}))};(()=>{const l=document.querySelector(".header-contacts__arrow"),o=document.querySelector(".header-contacts__phone-number-accord"),r=o.querySelector(".header-contacts__phone-number"),n=document.querySelector(".popup-dialog-menu"),i=document.querySelector(".popup-repair-types");let s=!1;const c=()=>{n.style.transform=""},a=(e,t)=>{t.preventDefault(),document.getElementById(e.getAttribute("href").substring(1)).scrollIntoView({behavior:"smooth"})},d=()=>{t(!1),i.style.opacity=0,i.style.visibility="visible",e({duration:500,timing:e=>e,draw(e){i.style.opacity=e}})};document.addEventListener("click",(e=>{e.target.closest(".header-contacts__arrow")&&(s=!s,s?(o.style.top="25px",r.style.opacity=1,l.style.transform="rotateX(180deg)"):(o.style.top="0px",r.style.opacity=0,l.style.transform="rotateX(0)")),e.target.closest(".menu__icon")&&(n.style.transform="translate3d(0, 0, 0)"),e.target.closest(".close-menu")&&c(),e.target.closest(".popup-dialog-menu")||e.target.closest(".menu__icon")||c(),e.target.closest(".menu-link")&&(e.target.closest(".no-overflow")?(e.preventDefault(),c(),d()):(a(e.target,e),c())),e.target.closest(".button-footer")&&("a"!=e.target.localName?a(e.target.childNodes[0],e):a(e.target,e)),e.target.closest(".no-overflow")&&c(),e.target.closest(".link-list-repair>a")&&d(),e.target.closest(".popup-repair-types .close")&&(t(!0),i.style.visibility="",i.style.opacity="")}))})(),(()=>{const e=document.querySelector(".popup-repair-types"),t=e.querySelector(".nav-list-popup-repair"),l=document.getElementById("switch-inner"),o=e.querySelector("tbody");let r,n=0;const i=async()=>{const e=await fetch("./db/db.json");return await e.json()},s=()=>{r.forEach((e=>{e.classList.remove("popup-repair-types-nav__item-active")})),r[n].classList.add("popup-repair-types-nav__item-active"),o.innerHTML="",a(r[n].textContent),d(r[n].textContent)},c=()=>{let e=r[n].getBoundingClientRect().left-t.getBoundingClientRect().left;t.style.transform="translateX("+-e+"px)"},a=e=>{l.textContent=e},d=e=>{i().then((t=>{t.repairs.filter((t=>t.type===e)).forEach((e=>{const t=document.createElement("tr");t.className="mobile-row showHide",t.innerHTML=`\n                    <td class="repair-types-name">${e.name}</td>\n                    <td class="mobile-col-title tablet-hide desktop-hide">Ед.измерения</td>\n                    <td class="mobile-col-title tablet-hide desktop-hide">Цена за ед.</td>\n                    <td class="repair-types-value">${"м2"===e.units?"м<sup>2</sup>":e.units}</td>\n                    <td class="repair-types-value">${e.cost}</td>\n                `,o.append(t)}))}))};e.addEventListener("click",(e=>{e.target.closest("#nav-arrow-popup-repair_right")&&(n++,n>=r.length&&n--,c(),s()),e.target.closest("#nav-arrow-popup-repair_left")&&(n--,n<0&&n++,c(),s())})),window.addEventListener("resize",(()=>{document.documentElement.clientWidth<1025?c():t.style.transform=""})),(()=>{let l=[];i().then((o=>{o.repairs.forEach((e=>{l.push(e.type)})),l=[...new Set(l)],l.forEach((e=>{const l=document.createElement("button");l.className="button_o popup-repair-types-nav__item",l.textContent=e,t.append(l)})),r=e.querySelectorAll(".popup-repair-types-nav__item"),a(r[0].textContent),d(r[0].textContent),r[0].classList.add("popup-repair-types-nav__item-active"),r.forEach(((e,t)=>{e.addEventListener("click",(()=>{n=t,s(),document.documentElement.clientWidth<1025&&c()}))}))}))})()})(),(()=>{const l=document.querySelector(".popup-privacy"),o=document.querySelector(".popup-consultation"),r=l=>{t(!1),l.style.opacity=0,l.style.visibility="visible",e({duration:500,timing:e=>e,draw(e){l.style.opacity=e}})},n=e=>{t(!0),e.style.opacity="",e.style.visibility=""};document.addEventListener("click",(e=>{e.target.closest(".link-privacy")&&r(l),e.target.closest(".popup-privacy>.close")&&n(l),e.target.closest(".button_wide")&&r(o),e.target.closest(".popup-consultation .close")&&n(o)}))})(),(()=>{const l=document.querySelector(".popup-transparency"),o=l.querySelector(".popup-transparency-slider-wrap").querySelectorAll(".popup-transparency-slider__slide"),r=document.getElementById("transparency-popup-counter"),n=r.querySelector(".slider-counter-content__current"),i=r.querySelector(".slider-counter-content__total"),s=document.querySelector(".transparency-slider-wrap").querySelectorAll(".transparency-item"),c=document.querySelectorAll(".transparency-item__img");let a=0;document.addEventListener("click",(e=>{var r;(e.target.closest("#transparency_left")||e.target.closest("#transparency-arrow_left"))&&(o[a].classList.remove("popup-transparency-slider__slide-active"),s[a].classList.remove("transparency-item-active"),a--,a<0&&(a=s.length-1),o[a].classList.add("popup-transparency-slider__slide-active"),s[a].classList.add("transparency-item-active"),n.textContent=a+1),(e.target.closest("#transparency_right")||e.target.closest("#transparency-arrow_right"))&&(o[a].classList.remove("popup-transparency-slider__slide-active"),s[a].classList.remove("transparency-item-active"),a++,a>=s.length&&(a=0),o[a].classList.add("popup-transparency-slider__slide-active"),s[a].classList.add("transparency-item-active"),n.textContent=a+1),e.target.closest(".popup-transparency .close")&&(r=l,t(!0),r.style.opacity="",r.style.visibility="")})),c.forEach(((r,c)=>{r.addEventListener("click",(()=>{var r;a=c,o.forEach((e=>{e.classList.remove("popup-transparency-slider__slide-active")})),o[c].classList.add("popup-transparency-slider__slide-active"),n.textContent=a+1,i.textContent=s.length,r=l,t(!1),r.style.opacity=0,r.style.visibility="visible",e({duration:500,timing:e=>e,draw(e){r.style.opacity=e}})}))}))})(),(()=>{const e=document.querySelector(".reviews-slider-wrap"),t=e.querySelectorAll(".reviews-slider__slide");let l=0;e.addEventListener("click",(e=>{e.target.closest("#reviews-arrow_right")&&(t[l].classList.remove("reviews-slider__slide-active"),l++,l>=t.length&&(l=0),t[l].classList.add("reviews-slider__slide-active")),e.target.closest("#reviews-arrow_left")&&(t[l].classList.remove("reviews-slider__slide-active"),l--,l<0&&(l=t.length-1),t[l].classList.add("reviews-slider__slide-active"))}))})(),(()=>{const e=document.querySelectorAll(".title_block");e.forEach((t=>{t.addEventListener("click",(t=>{t.target.classList.contains("msg-active")?t.target.classList.remove("msg-active"):(e.forEach((e=>{e.classList.remove("msg-active")})),t.target.classList.add("msg-active"))}))}))})(),(()=>{function e(e){const t="+7 (___) ___-__-__",l=t.replace(/\D/g,"");let o=0,r=this.value.replace(/\D/g,"");l.length>=r.length&&(r=l),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&o<r.length?r.charAt(o++):o>=r.length?"":e})),"blur"==e.type?2==this.value.length&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let l=t.createTextRange();l.collapse(!0),l.moveEnd("character",e),l.moveStart("character",e),l.select()}}(this.value.length,this)}document.querySelectorAll("input[name=phone]").forEach((t=>{t.addEventListener("input",e,!1),t.addEventListener("focus",e,!1),t.addEventListener("blur",e,!1)}))})(),(()=>{const e=document.querySelectorAll(".mobile-hide .formula-item__icon");e.forEach((t=>{t.addEventListener("mouseenter",(l=>{const o=l.target.querySelector(".formula-item__icon-inner"),r=l.target.querySelector(".formula-item__icon-inner-text"),n=l.target.querySelector(".formula-item-popup");n.getBoundingClientRect().top<0&&(n.classList.add("formula-item-popup-toggle"),e.forEach((e=>{e.style="z-index: auto",e.parentNode.style="z-index: auto"})),t.style="z-index: 1",t.parentNode.style="z-index: 1"),o.style.opacity="1",r.style.color="#eeeeee",n.style.visibility="visible",n.style.opacity="1"})),t.addEventListener("mouseleave",(t=>{const l=t.target.querySelector(".formula-item__icon-inner"),o=t.target.querySelector(".formula-item__icon-inner-text"),r=t.target.querySelector(".formula-item-popup"),n=t.target.querySelector(".formula-item-popup-text");r.classList.remove("formula-item-popup-toggle"),e.forEach((e=>{e.style="",e.parentNode.style=""})),l.style="",o.style="",r.style="",n.style=""}))}))})(),(()=>{const e=document.querySelector(".formula-slider-wrap"),t=e.querySelector(".formula-slider"),l=e.querySelectorAll(".formula-slider__slide");let o=0,r=document.documentElement.clientWidth/2-t.getBoundingClientRect().left-l[o].getBoundingClientRect().width/2;t.style.transform="translateX("+r+"px)";const n=e=>{const t=e.querySelector(".formula-item-popup"),l=e.querySelector(".formula-item__icon-inner"),o=e.querySelector(".formula-item__icon");o.style.width="66px",o.style.height="66px",t.style.visibility="visible",t.style.opacity="1",l.style.background="linear-gradient(90deg, #F48922 0%, #FFB015 100%)",l.style.color="#eeeeee"},i=e=>{const t=e.querySelector(".formula-item-popup"),l=e.querySelector(".formula-item__icon-inner"),o=e.querySelector(".formula-item__icon");t.style="",l.style="",o.style=""};n(l[o]),e.addEventListener("click",(e=>{e.target.closest(".slider-arrow_left-formula")&&(l[o].classList.remove("formula-slider__slide-active"),i(l[o]),o--,o<0&&(o=l.length-1,r=r+document.documentElement.clientWidth/2-l[o].getBoundingClientRect().left-l[o].getBoundingClientRect().width/2,t.style.transform="translateX("+r+"px)"),l[o].classList.add("formula-slider__slide-active"),l[o].getBoundingClientRect().left<document.documentElement.clientWidth/2&&(r=r+document.documentElement.clientWidth/2-l[o].getBoundingClientRect().left-l[o].getBoundingClientRect().width/2,t.style.transform="translateX("+r+"px)"),n(l[o])),e.target.closest(".slider-arrow_right-formula")&&(l[o].classList.remove("formula-slider__slide-active"),i(l[o]),o++,o>=l.length&&(o=0,r=r+document.documentElement.clientWidth/2-l[o].getBoundingClientRect().left-l[o].getBoundingClientRect().width/2,t.style.transform="translateX("+r+"px)"),l[o].classList.add("formula-slider__slide-active"),l[o].getBoundingClientRect().left+l[o].clientWidth>document.documentElement.clientWidth/2&&(r=r+document.documentElement.clientWidth/2-l[o].getBoundingClientRect().left-l[o].getBoundingClientRect().width/2,t.style.transform="translateX("+r+"px)"),n(l[o]))})),window.addEventListener("resize",(()=>{r=document.documentElement.clientWidth/2-e.getBoundingClientRect().left-(o+1.5)*l[o].getBoundingClientRect().width,t.style.transform="translateX("+r+"px)"}))})(),(()=>{const e=document.querySelector(".portfolio-slider-wrap"),t=e.querySelector(".portfolio-slider"),l=t.querySelectorAll(".portfolio-slider__slide"),o=document.getElementById("portfolio-arrow_left"),r=document.getElementById("portfolio-arrow_right");let n=0,i=0;const s=()=>{const e=l[0].getBoundingClientRect().left,n=l[l.length-1].getBoundingClientRect().right-t.getBoundingClientRect().right,i=t.getBoundingClientRect().left-e;o.style.display=i>0?"flex":"none",r.style.display=n>0?"flex":"none"};e.addEventListener("click",(e=>{e.target.closest("#portfolio-arrow_right")&&((()=>{const e=l[l.length-1].getBoundingClientRect().right,o=t.getBoundingClientRect().right,r=l[n].getBoundingClientRect().width,s=e-o;s<=0||(Math.floor(s/r)?i+=r:i+=s,l.forEach((e=>{e.style.transform="translateX("+-i+"px)"})),n++)})(),setTimeout(s,250)),e.target.closest("#portfolio-arrow_left")&&((()=>{const e=l[0].getBoundingClientRect().left,o=t.getBoundingClientRect().left,r=l[n].getBoundingClientRect().width,s=o-e;s<=0||(Math.floor(s/r)?i-=r:i-=s,l.forEach((e=>{e.style.transform="translateX("+-i+"px)"})),n--)})(),setTimeout(s,250))})),window.addEventListener("resize",(()=>{n=0,i=0,o.style="",r.style="",l.forEach((e=>{e.style=""}))}))})(),(()=>{const t=document.querySelector(".portfolio-slider-wrap"),l=t.querySelector(".portfolio-slider-mobile").querySelectorAll(".portfolio-slider__slide-frame"),o=document.getElementById("portfolio-counter"),r=o.querySelector(".slider-counter-content__current"),n=o.querySelector(".slider-counter-content__total");let i=0;t.addEventListener("click",(t=>{t.target.closest(".slider-arrow-tablet-mobile_right")&&(e({duration:200,timing:e=>e,draw(e){l[i].style.opacity=1-e}}),l[i].style.display="none",i++,i>=l.length&&(i=0),l[i].style.opacity="0",l[i].style.display="block",e({duration:200,timing:e=>e,draw(e){l[i].style.opacity=e}}),r.textContent=i+1),t.target.closest(".slider-arrow-tablet-mobile_left")&&(e({duration:200,timing:e=>e,draw(e){l[i].style.opacity=1-e}}),l[i].style.display="none",i--,i<=0&&(i=l.length-1),l[i].style.opacity="0",l[i].style.display="block",e({duration:200,timing:e=>e,draw(e){l[i].style.opacity=e}}),r.textContent=i+1)})),n.textContent=l.length,l.forEach((e=>{e.style.display="none"})),l[i].style.display="block"})(),(()=>{const l=document.querySelectorAll(".portfolio-slider .portfolio-slider__slide-frame"),o=document.querySelectorAll(".portfolio-slider-mobile .portfolio-slider__slide-frame"),r=document.querySelector(".popup-portfolio"),n=r.querySelector(".popup-portfolio-slider-wrap").querySelectorAll(".popup-portfolio-slider__slide"),i=r.querySelectorAll(".popup-portfolio-text"),s=document.getElementById("popup-portfolio-counter"),c=s.querySelector(".slider-counter-content__current"),a=s.querySelector(".slider-counter-content__total");let d;const p=l=>{t(!1),l.style.opacity=0,l.style.visibility="visible",e({duration:500,timing:e=>e,draw(e){l.style.opacity=e}}),n.forEach((e=>{e.style.display="none"})),n[d].style.display="block",document.documentElement.offsetWidth>1024||document.documentElement.offsetWidth<576?i[d].style.display="flex":i[d].style.display="contents",a.textContent=n.length,c.textContent=d+1};l.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.target.closest(".item-hover")&&(d=t,p(r))}))})),o.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.target.closest(".item-hover")&&(d=t,p(r))}))})),r.addEventListener("click",(l=>{var o;l.target.closest(".close")&&(o=r,t(!0),o.style.opacity="",o.style.visibility=""),l.target.closest("#popup_portfolio_right")&&(n[d].style.display="none",i[d].style.display="none",d++,d>=n.length&&(d=0),n[d].style.opacity="0",i[d].style.opacity="0",n[d].style.display="block",document.documentElement.offsetWidth>1024||document.documentElement.offsetWidth<576?i[d].style.display="flex":i[d].style.display="contents",e({duration:500,timing:e=>e,draw(e){n[d].style.opacity=e,i[d].style.opacity=e}}),c.textContent=d+1),l.target.closest("#popup_portfolio_left")&&(n[d].style.display="none",i[d].style.display="none",d--,d<0&&(d=n.length-1),n[d].style.opacity="0",i[d].style.opacity="0",n[d].style.display="block",document.documentElement.offsetWidth>1024||document.documentElement.offsetWidth<576?i[d].style.display="flex":i[d].style.display="contents",e({duration:500,timing:e=>e,draw(e){n[d].style.opacity=e,i[d].style.opacity=e}}),c.textContent=d+1)})),window.addEventListener("resize",(()=>{"visible"===r.style.visibility&&(document.documentElement.offsetWidth>1024||document.documentElement.offsetWidth<576?i[d].style.display="flex":i[d].style.display="contents")}))})(),(()=>{const t=document.querySelector(".nav-wrap-repair"),l=t.querySelectorAll(".repair-types-nav__item"),o=t.querySelector(".nav-list-repair"),r=document.querySelector(".repair-types-slider-wrap"),n=r.querySelectorAll(".repair-types-slider>div"),i=document.getElementById("repair-counter"),s=i.querySelector(".slider-counter-content__current"),c=i.querySelector(".slider-counter-content__total");let a=n[0].querySelectorAll(".repair-types-slider__slide"),d=0,p=0;c.textContent=a.length;const y=()=>{l.forEach((e=>{e.classList.remove("active")})),l[d].classList.add("active"),n.forEach((e=>{e.style.display="none"})),n[d].style.display="block",a=n[d].querySelectorAll(".repair-types-slider__slide"),p=0,a[p].style.display="block",c.textContent=a.length,s.textContent=p+1},u=()=>{let e=l[d].getBoundingClientRect().left-o.getBoundingClientRect().left;o.style.transform="translateX("+-e+"px)"};l.forEach(((e,t)=>{e.addEventListener("click",(e=>{a=n[d].querySelectorAll(".repair-types-slider__slide"),a.forEach((e=>{e.style=""})),d=t,y(),document.documentElement.clientWidth<1025&&u()}))})),r.addEventListener("click",(t=>{t.target.closest("#repair-types-arrow_right")&&(p++,p>=a.length&&(p=0),a.forEach((e=>{e.style.display="none"})),a[p].style.opacity="0",a[p].style.display="block",s.textContent=p+1,e({duration:200,timing:e=>e,draw(e){a[p].style.opacity=e}})),t.target.closest("#repair-types-arrow_left")&&(p--,p<0&&(p=a.length-1),a.forEach((e=>{e.style.display="none"})),a[p].style.opacity="0",a[p].style.display="block",s.textContent=p+1,e({duration:200,timing:e=>e,draw(e){a[p].style.opacity=e}}))})),t.addEventListener("click",(e=>{e.target.closest("#nav-arrow-repair-right_base")&&(d++,d>=l.length&&d--,u(),y()),e.target.closest("#nav-arrow-repair-left_base")&&(d--,d<0&&d++,u(),y())})),window.addEventListener("resize",(()=>{document.documentElement.clientWidth<1025?u():o.style.transform=""}))})();for(let e of document.forms)l(e.id)})();